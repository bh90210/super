// protoc --go_out=. --go_opt=paths=source_relative \
//  --go-grpc_out=. --go-grpc_opt=paths=source_relative \
//  auto/api/auto.proto
syntax = "proto3";

option go_package = "github.com/bh90210/super/auto/api";

package api;

service Github {
  rpc Webhook(Empty) returns (stream WebhookResponse) {}
}

message WebhookResponse {
  bytes data     = 1;
  Hook  hooktype = 2;
}

message Hook {
  enum Type {
    PUSH    = 0;
    REGPACK = 1;
    RELEASE = 2;
  }
  Type type = 3;
}

message Empty {}